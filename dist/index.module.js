import{Context as t}from"@hotwired/stimulus";var r=function(){function t(t,r){this.identifier=t,this.name=r[0],this.descriptor=r[1],this.options=r[2]||{}}var r;return(r=[{key:"description",get:function(){return this.descriptor.includes("->")?this.descriptor.replace(/->/,"->"+this.identifier+"#"):this.identifier+"#"+this.descriptor}}])&&function(t,r){for(var n=0;n<r.length;n++){var e=r[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}(t.prototype,r),t}(),n=function(){function t(t){var n=this;this.context=t,this.controller=t.controller;var e,i=(e=function(t){for(var r=[];t;)r.push(t),t=Object.getPrototypeOf(t);return r.reverse()}(this.controller.constructor),Array.from(e.reduce(function(t,r){return function(t,r){var n=t.actions;return Array.isArray(n)?n:[]}(r).forEach(function(r){return t.add(r)}),t},new Set)));this.actions=i.map(function(t){return new r(n.controller.identifier,t)})}var n=t.prototype;return n.run=function(){var t=this;this.actions.forEach(function(r){t.resolveTargets(r).forEach(function(n){t.attachAction(n,r)})})},n.resolveTargets=function(t){var r=this.findTargets(t.name);return t.options.if?this.filterTargets(r,t.options.if):r},n.findTargets=function(t){return"element"==t?[this.controller.element]:this.controller[t+"Targets"]?[].concat(this.controller[t+"Targets"]):[]},n.filterTargets=function(t,r){var n=this;return t.filter(function(t){var e=n.controller[r];return"function"==typeof e&&(e=e.apply(n.controller,t)),0!=e})},n.attachAction=function(t,r){var n=r.description,e=(t.dataset.action||"").split(" ");e.some(function(t){return t==n})||e.push(n),t.dataset.action=e.join(" ").trim()},t}(),e=t.prototype.connect,i=t.prototype.targetConnected;t.prototype.connect=function(){return this.actionSetter=new n(this),this.actionSetter.run(),e.apply(this,arguments)},t.prototype.targetConnected=function(){return this.actionSetter.run(),i.apply(this,arguments)};
//# sourceMappingURL=index.module.js.map
